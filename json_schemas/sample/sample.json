{
  "$defs": {
    "antibody": {
      "properties": {
        "name": {
          "title": "Antibody Name",
          "type": "string"
        },
        "duration": {
          "title": "Duration",
          "type": "string"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string"
        }
      },
      "required": ["name", "duration", "concentration"],
      "title": "Antibody",
      "type": "object"
    },
    "biospecimen": {
      "properties": {
        "entity": {
          "enum": ["patientSample", "wastewater"],
          "type": "string"
        },
        "title": "Type"
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "entity": {
                "const": "patientSample"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/patientSample"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "wastewater"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/wastewater"
              }
            }
          }
        }
      ],
      "required": ["entity"],
      "title": "Biospecimen",
      "type": "object"
    },
    "CRISPR": {
      "properties": {
        "name": {
          "title": "Target Gene",
          "type": "string"
        },
        "duration": {
          "title": "Duration",
          "type": "string"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string"
        }
      },
      "required": ["name", "duration", "concentration"],
      "title": "CRISPR",
      "type": "object"
    },
    "cellLine": {
      "properties": {
        "name": {
          "title": "Cell Line Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Cell Line",
      "type": "object"
    },
    "differentiatedCells": {
      "properties": {
        "name": {
          "title": "Cell Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Differentiated Cells",
      "type": "object"
    },
    "epigeneticModification": {
      "properties": {
        "name": {
          "title": "Modification Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Epigenetic Modification",
      "type": "object"
    },
    "gene": {
      "properties": {
        "name": {
          "title": "Gene Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Gene",
      "type": "object"
    },
    "infectiousAgent": {
      "properties": {
        "name": {
          "title": "Agent Name",
          "type": "string"
        },
        "duration": {
          "title": "Duration",
          "type": "string"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string"
        }
      },
      "required": ["name", "duration", "concentration"],
      "title": "Infectious Agent",
      "type": "object"
    },
    "modelSystem": {
      "properties": {
        "entity": {
          "enum": [
            "cellLine",
            "iPSC",
            "differentiatedCells",
            "primaryCells",
            "tissue"
          ],
          "type": "string"
        },
        "title": "Type"
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "entity": {
                "const": "cellLine"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/cellLine"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "iPSC"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/iPSC"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "differentiatedCells"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/differentiatedCells"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "primaryCells"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/primaryCells"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "tissue"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/tissue"
              }
            }
          }
        }
      ],
      "required": ["entity"],
      "title": "Model System",
      "type": "object"
    },
    "patientSample": {
      "properties": {
        "name": {
          "title": "Tumor Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Patient Sample",
      "type": "object"
    },
    "primaryCells": {
      "properties": {
        "name": {
          "title": "Cell Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Primary Cells",
      "type": "object"
    },
    "protein": {
      "properties": {
        "name": {
          "title": "Protein Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Protein",
      "type": "object"
    },
    "proteinP": {
      "properties": {
        "name": {
          "title": "Protein Name",
          "type": "string"
        },
        "duration": {
          "title": "Duration",
          "type": "string"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string"
        }
      },
      "required": ["name", "duration", "concentration"],
      "title": "Protein",
      "type": "object"
    },
    "RNAi": {
      "properties": {
        "name": {
          "title": "Target Sequence",
          "type": "string"
        },
        "duration": {
          "title": "Duration",
          "type": "string"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string"
        }
      },
      "required": ["name", "duration", "concentration"],
      "title": "RNAi",
      "type": "object"
    },
    "smallMolecule": {
      "properties": {
        "name": {
          "title": "Small Molecule Name",
          "type": "string"
        },
        "duration": {
          "title": "Duration",
          "type": "string"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string"
        }
      },
      "required": ["name", "duration", "concentration"],
      "title": "Small Molecule",
      "type": "object"
    },
    "target": {
      "properties": {
        "entity": {
          "enum": ["gene", "transcript", "protein", "epigeneticModification"],
          "type": "string"
        },
        "title": "Type"
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "entity": {
                "const": "gene"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/gene"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "transcript"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/transcript"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "protein"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/protein"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "epigeneticModification"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/epigeneticModification"
              }
            }
          }
        }
      ],
      "required": ["entity"],
      "title": "Target",
      "type": "object"
    },
    "tissue": {
      "properties": {
        "name": {
          "title": "Tissue Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Tissue",
      "type": "object"
    },
    "transcript": {
      "properties": {
        "name": {
          "title": "NCBI Accession Number",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Transcript",
      "type": "object"
    },
    "wastewater": {
      "properties": {
        "name": {
          "title": "Sample ID",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Wastewater",
      "type": "object"
    },
    "iPSC": {
      "properties": {
        "name": {
          "title": "iPSC ID",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "iPSC",
      "type": "object"
    }
  },
  "properties": {
    "sampleName": {
      "title": "Sample Name",
      "type": "string"
    },
    "description": {
      "title": "Description",
      "type": "string"
    },
    "experimentalSubject": {
      "properties": {
        "entity": {
          "enum": ["modelSystem", "biospecimen", "target"],
          "type": "string",
          "default": "modelSystem"
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "entity": {
                "const": "modelSystem"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/modelSystem"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "biospecimen"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/biospecimen"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "entity": {
                "const": "target"
              }
            }
          },
          "then": {
            "properties": {
              "content": {
                "$ref": "#/$defs/target"
              }
            }
          }
        }
      ],
      "title": "Experimental Subject",
      "type": "object"
    },
    "perturbation": {
      "items": {
        "type": "object",
        "properties": {
          "entity": {
            "enum": [
              "smallMolecule",
              "CRISPR",
              "RNAi",
              "antibody",
              "proteinP",
              "infectiousAgent"
            ],
            "type": "string",
            "default": "modelSystem"
          }
        },
        "allOf": [
          {
            "if": {
              "properties": {
                "entity": {
                  "const": "smallMolecule"
                }
              }
            },
            "then": {
              "properties": {
                "content": {
                  "$ref": "#/$defs/smallMolecule"
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "entity": {
                  "const": "CRISPR"
                }
              }
            },
            "then": {
              "properties": {
                "content": {
                  "$ref": "#/$defs/CRISPR"
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "entity": {
                  "const": "RNAi"
                }
              }
            },
            "then": {
              "properties": {
                "content": {
                  "$ref": "#/$defs/RNAi"
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "entity": {
                  "const": "antibody"
                }
              }
            },
            "then": {
              "properties": {
                "content": {
                  "$ref": "#/$defs/antibody"
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "entity": {
                  "const": "proteinP"
                }
              }
            },
            "then": {
              "properties": {
                "content": {
                  "$ref": "#/$defs/proteinP"
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "entity": {
                  "const": "infectiousAgent"
                }
              }
            },
            "then": {
              "properties": {
                "content": {
                  "$ref": "#/$defs/infectiousAgent"
                }
              }
            }
          }
        ]
      },
      "title": "Perturbation",
      "type": "array"
    }
  },
  "required": [
    "sampleName",
    "description",
    "experimentalSubject",
    "perturbation"
  ],
  "title": "Sample",
  "type": "object"
}