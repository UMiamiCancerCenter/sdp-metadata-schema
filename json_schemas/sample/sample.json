{
  "$defs": {
    "antibody": {
      "properties": {
        "name": {
          "title": "Antibody Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Antibody",
      "type": "object"
    },
    "biospecimen": {
      "anyOf": [
        {
          "title": "Patient Sample",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "patientSample",
              "const": "patientSample",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/patientSample"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Wastewater",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "wastewater",
              "const": "wastewater",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/wastewater"
            }
          },
          "required": ["entity", "content"]
        }
      ],
      "title": "",
      "type": "object"
    },
    "CRISPR": {
      "properties": {
        "name": {
          "title": "Target Gene",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "CRISPR",
      "type": "object"
    },
    "cellLine": {
      "properties": {
        "name": {
          "ui": {
            "preview": {
              "visible": true
            }
          },
          "title": "Cell Line Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object",
      "ui": {
        "preview": {
          "visible": true
        }
      }
    },
    "differentiatedCells": {
      "properties": {
        "name": {
          "title": "Cell Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "epigeneticModification": {
      "properties": {
        "name": {
          "title": "Modification Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "gene": {
      "properties": {
        "name": {
          "title": "Gene Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "infectiousAgent": {
      "properties": {
        "name": {
          "title": "Agent Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Infectious Agent",
      "type": "object"
    },
    "modelSystem": {
      "anyOf": [
        {
          "ui": {
            "preview": {
              "visible": true
            }
          },
          "title": "Cell Line",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "cellLine",
              "const": "cellLine"
            },
            "content": {
              "ui": {
                "preview": {
                  "visible": true
                }
              },
              "$ref": "#/$defs/cellLine"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "iPSC",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "iPSC",
              "const": "iPSC",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/iPSC"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Differentiated Cells",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "differentiatedCells",
              "const": "differentiatedCells",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/differentiatedCells"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Primary Cells",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "primaryCells",
              "const": "primaryCells",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/primaryCells"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Tissue",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "tissue",
              "const": "tissue",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/tissue"
            }
          },
          "required": ["entity", "content"]
        }
      ],
      "required": ["entity", "content"],
      "type": "object",
      "title": "",
      "ui": {
        "preview": {
          "visible": true
        }
      }
    },
    "patientSample": {
      "properties": {
        "name": {
          "title": "Tumor Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "primaryCells": {
      "properties": {
        "name": {
          "title": "Cell Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "protein": {
      "properties": {
        "name": {
          "title": "Protein Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Protein",
      "type": "object"
    },
    "proteinP": {
      "properties": {
        "name": {
          "title": "Protein Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "RNAi": {
      "properties": {
        "name": {
          "title": "Target Sequence",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "RNAi",
      "type": "object"
    },
    "smallMolecule": {
      "properties": {
        "name": {
          "title": "Small Molecule Name",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "Small Molecule Info",
      "type": "object"
    },
    "target": {
      "anyOf": [
        {
          "title": "Gene",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "gene",
              "const": "gene",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/gene"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Transcript",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "transcript",
              "const": "transcript",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/transcript"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Protein",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "protein",
              "const": "protein",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/protein"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "title": "Epigenetic Modification",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "epigeneticModification",
              "const": "epigeneticModification",
              "format": "hidden"
            },
            "content": {
              "$ref": "#/$defs/epigeneticModification"
            }
          },
          "required": ["entity", "content"]
        }
      ],
      "required": ["entity", "content"],
      "title": "",
      "type": "object"
    },
    "tissue": {
      "properties": {
        "name": {
          "title": "Tissue Type",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "transcript": {
      "properties": {
        "name": {
          "title": "NCBI Accession Number",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "wastewater": {
      "properties": {
        "name": {
          "title": "Sample ID",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "iPSC": {
      "properties": {
        "name": {
          "title": "iPSC ID",
          "type": "string"
        }
      },
      "required": ["name"],
      "title": "",
      "type": "object"
    },
    "perturbation": {
      "properties": {
        "duration": {
          "title": "Duration",
          "type": "string",
          "enum": ["minutes", "hours", "days"],
          "default": "minutes"
        },
        "concentration": {
          "title": "Concentration",
          "type": "string",
          "enum": ["millimolar", "micromolar", "nanomolar"],
          "default": "millimolar"
        }
      }
    }
  },
  "properties": {
    "sampleName": {
      "type": "string",
      "title": "Sample Name"
    },
    "description": {
      "type": "string",
      "title": "Description"
    },
    "experimentalSubject": {
      "anyOf": [
        {
          "ui": {
            "preview": {
              "visible": true
            }
          },
          "title": "Model System",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "modelSystem",
              "const": "modelSystem"
            },
            "content": {
              "ui": {
                "preview": {
                  "visible": true
                }
              },
              "$ref": "#/$defs/modelSystem"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "ui": {
            "preview": {
              "visible": true
            }
          },
          "title": "Biospecimen",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "biospecimen",
              "const": "biospecimen",
              "format": "hidden"
            },
            "content": {
              "ui": {
                "preview": {
                  "visible": true
                }
              },
              "$ref": "#/$defs/biospecimen"
            }
          },
          "required": ["entity", "content"]
        },
        {
          "ui": {
            "preview": {
              "visible": true
            }
          },
          "title": "Target",
          "type": "object",
          "properties": {
            "entity": {
              "type": "string",
              "default": "target",
              "const": "target",
              "format": "hidden"
            },
            "content": {
              "ui": {
                "preview": {
                  "visible": true
                }
              },
              "$ref": "#/$defs/target"
            }
          },
          "required": ["entity", "content"]
        }
      ],
      "title": "Experimental Subject",
      "type": "object",
      "ui": {
        "preview": {
          "visible": true
        }
      }
    },
    "perturbation": {
      "items": {
        "type": "object",
        "required": ["entity", "content", "duration", "concentration"],
        "anyOf": [
          {
            "title": "Small Molecule Perturbation",
            "type": "object",
            "properties": {
              "entity": {
                "type": "string",
                "default": "smallMolecule",
                "const": "smallMolecule",
                "format": "hidden"
              },
              "duration": {
                "$ref": "#/$defs/perturbation/properties/duration"
              },
              "concentration": {
                "$ref": "#/$defs/perturbation/properties/concentration"
              },
              "content": {
                "$ref": "#/$defs/smallMolecule"
              }
            }
          },
          {
            "title": "CRISPR",
            "type": "object",
            "properties": {
              "entity": {
                "type": "string",
                "default": "CRISPR",
                "const": "CRISPR",
                "format": "hidden"
              },
              "duration": {
                "$ref": "#/$defs/perturbation/properties/duration"
              },
              "concentration": {
                "$ref": "#/$defs/perturbation/properties/concentration"
              },
              "content": {
                "$ref": "#/$defs/CRISPR"
              }
            }
          },
          {
            "title": "RNAi",
            "type": "object",
            "properties": {
              "entity": {
                "type": "string",
                "default": "RNAi",
                "const": "RNAi",
                "format": "hidden"
              },
              "duration": {
                "$ref": "#/$defs/perturbation/properties/duration"
              },
              "concentration": {
                "$ref": "#/$defs/perturbation/properties/concentration"
              },
              "content": {
                "$ref": "#/$defs/RNAi"
              }
            }
          },
          {
            "title": "Antibody",
            "type": "object",
            "properties": {
              "entity": {
                "type": "string",
                "default": "antibody",
                "const": "antibody",
                "format": "hidden"
              },
              "duration": {
                "$ref": "#/$defs/perturbation/properties/duration"
              },
              "concentration": {
                "$ref": "#/$defs/perturbation/properties/concentration"
              },
              "content": {
                "$ref": "#/$defs/antibody"
              }
            }
          },
          {
            "title": "Protein",
            "type": "object",
            "properties": {
              "entity": {
                "type": "string",
                "default": "proteinP",
                "const": "proteinP",
                "format": "hidden"
              },
              "duration": {
                "$ref": "#/$defs/perturbation/properties/duration"
              },
              "concentration": {
                "$ref": "#/$defs/perturbation/properties/concentration"
              },
              "content": {
                "$ref": "#/$defs/proteinP"
              }
            }
          },
          {
            "title": "Infectious Agent",
            "type": "object",
            "properties": {
              "entity": {
                "type": "string",
                "default": "infectiousAgent",
                "const": "infectiousAgent",
                "format": "hidden"
              },
              "duration": {
                "$ref": "#/$defs/perturbation/properties/duration"
              },
              "concentration": {
                "$ref": "#/$defs/perturbation/properties/concentration"
              },
              "content": {
                "$ref": "#/$defs/infectiousAgent"
              }
            }
          }
        ]
      },
      "title": "Perturbation",
      "type": "array",
      "ui": {
        "preview": {
          "title": "Perturbation:",
          "visible": true
        },
        "datagrid": {
          "columns": [
            {
              "field": "entity",
              "title": "Entity",
              "getCellValue": "entity"
            },
            {
              "field": "name",
              "title": "Name",
              "getCellValue": "content.name"
            },
            {
              "field": "duration",
              "title": "Duration",
              "getCellValue": "duration"
            },
            {
              "field": "concentration",
              "title": "Concentration",
              "getCellValue": "concentration"
            }
          ]
        }
      }
    }
  },
  "required": [
    "sampleName",
    "description",
    "experimentalSubject",
    "perturbation"
  ],
  "title": "Sample",
  "type": "object",
  "ui": {
    "preview": {
      "visible": true
    },
    "datagrid": {
      "columns": [
        {
          "field": "sampleName",
          "title": "Sample Name",
          "getCellValue": "sampleName"
        },
        {
          "field": "description",
          "title": "Description",
          "getCellValue": "description"
        }
      ]
    }
  }
}
