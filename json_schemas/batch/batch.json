{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "_id": {
        "type": "object",
        "properties": {
          "$oid": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$"
          }
        },
        "required": ["$oid"]
      },
      "name": {
        "type": "string"
      },
      "description": {
        "type": "string"
      },
      "vendorName": {
        "type": "string"
      },
      "vendorCode": {
        "type": "string"
      },
      "type": {
        "type": "string",
        "enum": ["Cell Line", "Compound"]
      },
      "unspscCode": {
        "type": "string"
      },
      "eClass": {
        "type": "string"
      },
      "shippedIn": {
        "type": "string"
      },
      "storageTemp": {
        "type": "string"
      },
      "deliveryDate": {
        "type": "string",
        "format": "date"
      },
      "expirationDate": {
        "type": "string",
        "format": "date"
      },
      "cellLineId": {
        "type": "object",
        "properties": {
          "$oid": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$"
          }
        }
      },
      "cellLineName": {
        "type": "string"
      },
      "synonyms": {
        "type": "string"
      },
      "organism": {
        "type": "string"
      },
      "diseases": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "biologicalSource": {
        "type": "string"
      },
      "compoundId": {
        "type": "object",
        "properties": {
          "$oid": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$"
          }
        }
      },
      "compoundName": {
        "type": "string"
      },
      "Salt": {
        "type": "string"
      },
      "molecularFormula": {
        "type": "string"
      },
      "molecularWeight": {
        "type": "number"
      },
      "purity": {
        "type": "string"
      },
      "smiles": {
        "type": "string"
      },
      "inchi": {
        "type": "string"
      },
      "createdAt": {
        "type": "object",
        "properties": {
          "$date": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["$date"]
      },
      "createdBy": {
        "type": "object",
        "properties": {
          "$oid": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$"
          }
        },
        "required": ["$oid"]
      },
      "updatedAt": {
        "type": "object",
        "properties": {
          "$date": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["$date"]
      },
      "scope": {
        "type": "string",
        "enum": ["private", "shared", "public"],
        "default": "public"
      },
      "ownerUserId": {
        "type": "object",
        "properties": {
          "$oid": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$"
          }
        },
        "required": ["$oid"],
        "options": {
          "hidden": true
        }
      },
      "updatedBy": {
        "type": "object",
        "properties": {
          "$oid": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$"
          }
        },
        "required": ["$oid"]
      }
    },
    "required": ["_id", "name", "description", "vendorName", "vendorCode", "type", "deliveryDate", "expirationDate", "createdAt", "createdBy", "updatedAt", "scope", "ownerUserId", "updatedBy"],
    "allOf": [
      {
        "if": {
          "properties": {
            "type": {
              "const": "Cell Line"
            }
          }
        },
        "then": {
          "required": ["cellLineId", "cellLineName", "synonyms", "organism", "diseases", "biologicalSource"]
        }
      },
      {
        "if": {
          "properties": {
            "type": {
              "const": "Compound"
            }
          }
        },
        "then": {
          "required": ["compoundId", "compoundName", "Salt", "molecularFormula", "molecularWeight", "purity", "smiles", "inchi"]
        }
      }
    ]
  }